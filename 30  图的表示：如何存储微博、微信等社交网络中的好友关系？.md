## Cue

怎么描述图？

图的两种存储方式？差异？

数据特别大怎么做？

## Notes

#### 图的基本属性

顶点（vertex）：图中的基本元素

边（edge）：两个顶点间的关系

度（degree）：顶点边的个数

入度（In-degree）：有向图中指向当前顶点的边的个数

出度（Out-degree）：有向图中当前顶点发射出去的边的个数

有向图、无向图、加权图：有向无向很好理解，加权图指每个边都有自己的权重

#### 图的存储方式

* 邻接矩阵：通常是利用二维数组，对于一个有n个元素的图，用一个n * n的二维数组来存储，a\[n\]\[n\]固定为0，当第i个元素与第j个元素有边时，用a\[i\]\[j\]表示由i指向j的边，用a\[j\]\[i\]表示j指向i的边，同时可以存储边的权重
* 邻接表：有点像哈希表，利用一个数组存储图中所有的元素，同时，每个index内存放一个链表，存放指向顶点或顶点指向的其他顶点

#### 两种存储方式的对比

邻接矩阵非常直观，查找顶点间关系也非常迅速。但有一个很严重的缺点是空间浪费太大。尤其是存放稀疏图时，即边的数量远小于顶点的数量的图。

邻接表空间利用率高，但是查询效率低下。通常可以用二叉平衡数，哈希表，跳表等数据结构来加速查询效率，是常用的图的存储方式。

#### 一种数据库存储邻接表的方式

![](https://static001.geekbang.org/resource/image/73/8f/7339595c631660dc87559bec2ddf928f.jpg)

## Summary

了解了图的基本概念，以及它的两种常用存储方式。对比了两种存储方式的差异，以及如何选择。

当图中元素非常大时，就要求助于分布式内存存储或者外部硬盘存储，介绍了一种关系型数据库存放图的方法。